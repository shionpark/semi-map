#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "π” νƒ€μ… μ²΄ν¬ μ¤‘..."
if ! pnpm exec tsc --noEmit --skipLibCheck; then
  echo "β νƒ€μ… μ—λ¬κ°€ λ°κ²¬λμ—μµλ‹λ‹¤. λ‹¤μμ„ ν™•μΈν•΄ μ£Όμ„Έμ”:"
  echo "  - TypeScript μ»΄νμΌ μ—λ¬ μμ •"
  echo "  - νƒ€μ… μ •μ ν™•μΈ"
  exit 1
fi

echo "π” ν…μ¤νΈ μ‹¤ν–‰ μ¤‘..."
if ! pnpm test; then
  echo "β ν…μ¤νΈκ°€ μ‹¤ν¨ν–μµλ‹λ‹¤. λ‹¤μμ„ ν™•μΈν•΄ μ£Όμ„Έμ”:"
  echo "  - μ‹¤ν¨ν• ν…μ¤νΈ μΌ€μ΄μ¤ μμ •"
  echo "  - ν…μ¤νΈ ν™κ²½ μ„¤μ • ν™•μΈ"
  exit 1
fi

echo "β… λ¨λ“  κ²€μ‚¬ ν†µκ³Ό! ν‘Έμ‹λ¥Ό μ§„ν–‰ν•©λ‹λ‹¤."